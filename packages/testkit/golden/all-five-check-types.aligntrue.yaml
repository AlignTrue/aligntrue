# All five check types pack
# Tests: complete coverage of all check types

id: "packs/testkit/all-five-check-types"
version: "1.0.0"
spec_version: "1"
summary: "Tests all five check types"
rules:
  - id: "checks-file-presence"
    severity: "error"
    applies_to: ["**/*.ts"]
    check:
      type: "file_presence"
      inputs:
        paths: ["package.json"]
      evidence: "Root package.json required"
  
  - id: "checks-path-convention"
    severity: "warn"
    applies_to: ["src/**/*.ts"]
    check:
      type: "path_convention"
      inputs:
        include: ["src/**"]
        pattern: "^[a-z0-9-]+\\.ts$"
      evidence: "File names must be lowercase with hyphens"
  
  - id: "checks-manifest-policy"
    severity: "warn"
    applies_to: ["**/package.json"]
    check:
      type: "manifest_policy"
      inputs:
        manifest: "package.json"
        lockfile: "pnpm-lock.yaml"
        require_pinned: true
      evidence: "Package.json must match standard schema"
  
  - id: "checks-regex"
    severity: "info"
    applies_to: ["**/*.md"]
    check:
      type: "regex"
      inputs:
        include: ["**/*.md"]
        pattern: "^# "
        allow: true
      evidence: "Markdown files should start with h1"
  
  - id: "checks-command-runner"
    severity: "warn"
    applies_to: ["**/Makefile"]
    check:
      type: "command_runner"
      inputs:
        command: "make --version"
        timeout_ms: 5000
      evidence: "Make must be installed"

integrity:
  algo: "jcs-sha256"
  value: "fa79b5db200186cd77874884663172d53ec6275deea896b41c5ded1bc012b7b3"

