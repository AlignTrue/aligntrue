# Dependency chain pack
# Tests: rules that depend on each other

id: "packs/testkit/dependency-chain"
version: "1.0.0"
spec_version: "1"
summary: "Tests rule dependencies"
rules:
  - id: "deps-nodejs"
    severity: "error"
    applies_to: ["**/*.ts"]
    check:
      type: "file_presence"
      inputs:
        paths: ["package.json"]
      evidence: "Node.js project detected"
  
  - id: "deps-pnpm"
    severity: "warn"
    applies_to: ["**/package.json"]
    check:
      type: "path_convention"
      inputs:
        include: ["**/"]
        pattern: "pnpm-lock"
      evidence: "pnpm lock file recommended"

integrity:
  algo: "jcs-sha256"
  value: "415a2501fa4e20c5b33b515b72a33213c7c670843f7840c8c9fc920d9292121c"

