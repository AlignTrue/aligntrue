# Dependency chain pack
# Tests: rules that depend on each other

id: "packs/testkit/dependency-chain"
version: "1.0.0"
spec_version: "1"
summary: "Tests rule dependencies"
rules:
  - id: "deps.example.nodejs"
    severity: "error"
    applies_to: ["**/*.ts"]
    check:
      type: "file_presence"
      inputs:
        paths: ["package.json"]
      evidence: "Node.js project detected"

  - id: "deps.example.pnpm"
    severity: "warn"
    applies_to: ["**/package.json"]
    check:
      type: "path_convention"
      inputs:
        include: ["**/"]
        pattern: "pnpm-lock"
      evidence: "pnpm lock file recommended"

integrity:
  algo: "jcs-sha256"
  value: "fca3c8d6bdae0a082ed6974a10c66c95de99e6262a01676b69b9238f13760100"
